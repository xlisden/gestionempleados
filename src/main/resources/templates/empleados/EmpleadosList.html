<!DOCTYPE html>
<html lang="es">

<head th:replace="~{shared/head :: head() }"></head>
<div th:replace="~{shared/header/header :: header() }"></div>

<body>

<div class="container px-5">
    <h1 class="pb-3">Empleados</h1>

    <div class="d-flex justify-content-between align-items-center pb-3">
        <a href="/empleados/agregar" class="btn btn-primary col-sm-2" style="font-size: 1.10rem">
            <i class="bi bi-plus-circle"></i> Agregar Empleado
        </a>

        <form th:action="@{/empleados}" class="d-flex flex-grow-1 align-items-center" method="GET">
            <div class="col-sm-3 ms-auto" style="margin-right: 8px">
                <div class="form-floating">
                    <input type="text" class="form-control" id="floatBuscar" placeholder="buscar" th:value="${nombre}" name="nombre">
                    <label for="floatBuscar">Buscar por DNI, código o nombre...</label>
                </div>
            </div>

            <div id="selectArea" class="col-sm-2">
                <div class="form-floating">
                    <select id="floatArea" name="areaa" class="form-select">
                        <option value="">Seleccione...</option>
                        <option th:each="area : ${ areas }" th:value="${ area.id }" th:text="${ area.nombre }" th:selected="${ area.id == areaa }"></option>
                    </select>
                    <label for="floatArea">Buscar por Área</label>
                </div>
            </div>

            <div id="selectJornada" class="col-sm-2 " style="margin-left: 8px">
                <div class="form-floating">
                    <select id="floatJornada" name="jornad" class="form-select">
                        <option value="">Seleccione...</option>
                        <option th:each="jornada : ${ jornadas }" th:value="${ jornada.id }" th:text="${ jornada.nombre }" th:selected="${ jornada.id == jornad }" ></option>
                    </select>
                    <label for="floatJornada">Buscar por Jornada</label>
                </div>
            </div>

            <button type="submit" class="btn btn-outline-primary col-sm-2" style="font-size: 1.25rem; margin-left: 15px">Buscar</button>
        </form>
    </div>

    <div class="table-responsive">
        <table class="table align-middle">
            <thead class="table">
            <tr>
                <th>Cod.</th>
                <th>Nombre Completo</th>
                <th>Area</th>
                <th>Antiguedad</th>
                <th>Modalidad Cont.</th>
                <th>Jornada Lab.</th>
                <th></th>
                <th>Operaciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="empleado : ${ empleados }" th:object="${empleado}">
                <td th:text="${ empleado.cod }"></td>
                <td th:text="${ empleado.nombreCompleto }"></td>
                <td th:text="${ empleado.area }"></td>
                <td th:text="${ empleado.antiguedad }"></td>
                <td th:text="${ empleado.modalidadContrato }"></td>
                <td th:text="${ empleado.jornadaLaboral  }"></td>
<!--                <td th:if="${ empleado.activo }" class="text-success" style="font-size: 1.5rem">●</td>-->
<!--                <td th:if="${ !empleado.activo }" class="text-body-tertiary" style="font-size: 1.5rem">●</td>-->

<!--                <td>-->
<!--                    <div class="form-check form-switch">-->
<!--                        <input class="form-check-input" type="checkbox" role="switch" id="isActivo" th:checked="${empleado.activo}"-->
<!--                               th:onclick="'javascript:window.location.href=\'' + @{/empleados/desactivar/{id}(id=${empleado.id})} + '\''">-->
<!--                    </div>-->
<!--                </td>-->

                <td>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="isActivo" th:checked="${empleado.activo}"
                               th:onclick="'javascript:window.location.href=\'' + (${empleado.activo} ? @{/empleados/desactivar/{id}(id=${empleado.id})} : @{/empleados/activar/{id}(id=${empleado.id})}) + '\''">

                    </div>
                </td>
                <!--                               th:onclick="'javascript:window.location.href=\'' + (@{/empleados/desactivar/{id}(id=${empleado.id})} + ( ${empleado.activo} ? '' : '/activar' ) ) + '\''">-->
                <td>
                    <a th:href="@{/empleados/{id}(id=${ empleado.id })}">
                        <img th:src="@{/img/detalle.png}" width="30" height="30" alt="detalleIcon">
                    </a>
                    <a href="" style="font-size: 1.5rem">
                        <i class="bi bi-pencil-square"></i>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>